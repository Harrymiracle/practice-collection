(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{166:function(t,e,a){"use strict";a.r(e);var o=a(366),i=a(212);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);a(308);var n=a(51),s=Object(n.a)(i.default,o.a,o.b,!1,null,"45ce8248",null);s.options.__file="src/frames/conversation/singlechat.vue",e.default=s.exports},212:function(t,e,a){"use strict";a.r(e);var o=a(213),i=a.n(o);for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);e.default=i.a},213:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(a(163)),i=l(a(197)),r=a(74),n=a(75),s=a(7);a(301),a(302);var c=l(a(76));function l(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{inputmessage:"",light:!1,clickmore:!1,chatname:"",ifme:!1,enlargeurl:"",enlargehides:!1,enlargeShow:!1,enlarge:!1,timer:null,conversine:[],robotCont:"",newInfo:{},chatData:{},userInfoData:{}}},created:function(){},mounted:function(){var t=this;(0,n.chatData)().then(function(e){t.chatData=e}).then(function(){new Swiper(".swiper-container",{pagination:".swiper-pagination",loop:!1})}),this.chatname=this.infor.remarks?this.infor.remarks:this.infor.petname,this.getUserInfo(),this.userInfoData=this.userInfo,(0,n.userWord)().then(function(t){})},components:{headTop:i.default},computed:(0,o.default)({},(0,r.mapState)(["infor","userInfo"])),beforeDestroy:function(){clearTimeout(this.timer)},methods:(0,o.default)({},(0,r.mapActions)(["getUserInfo"]),{whatInput:function(){""==this.inputmessage.replace(/\s+/g,"")?this.light=!1:this.light=!0},enterThing:function(){this.light&&this.clickSend()},bottomShow:function(){this.clickmore=!0},bottomHide:function(){this.clickmore=!1},inputBottomHide:function(){this.clickmore=!1},clickSend:async function(){var t=this;this.conversine.push({wxid:"xulianjie442154157",headurl:s.imgurl+this.userInfoData.avatar,sendobject:0,Messageblob:this.inputmessage});var e=this.inputmessage;this.inputmessage="",this.$nextTick(function(){window.scrollTo(0,t.$refs.singleHeight.offsetHeight-window.innerHeight)});try{var a=await(0,c.default)("/robot/question",{question:e});if(this.light=!1,200!=a.status)throw new Error(a);this.infor.Messageblob=a.content,this.conversine.push({wxid:this.infor.wxid,headurl:this.infor.headurl,sendobject:this.infor.sendobject,Messageblob:a.content}),this.$nextTick(function(){window.scrollTo(0,t.$refs.singleHeight.offsetHeight-window.innerHeight)})}catch(t){alert("获取机器人聊天信息失败",t)}},enlargeImg:function(t){this.enlargeurl=t,this.enlarge=!0,this.enlargeShow=!0,this.enlargehides=!1},enlargeHide:function(){var t=this;clearTimeout(this.timer),this.enlargehides=!0,this.enlargeShow=!1,this.timer=setTimeout(function(){t.enlarge=!1},400)}})}},214:function(t,e,a){var o=a(309);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(50)(o,i);o.locals&&(t.exports=o.locals)},308:function(t,e,a){"use strict";var o=a(214);a.n(o).a},309:function(t,e,a){(t.exports=a(49)(!1)).push([t.i,'body[data-v-45ce8248],div[data-v-45ce8248],span[data-v-45ce8248],header[data-v-45ce8248],footer[data-v-45ce8248],nav[data-v-45ce8248],section[data-v-45ce8248],aside[data-v-45ce8248],article[data-v-45ce8248],ul[data-v-45ce8248],dl[data-v-45ce8248],dt[data-v-45ce8248],dd[data-v-45ce8248],li[data-v-45ce8248],a[data-v-45ce8248],p[data-v-45ce8248],h1[data-v-45ce8248],h2[data-v-45ce8248],h3[data-v-45ce8248],h4[data-v-45ce8248],h5[data-v-45ce8248],h6[data-v-45ce8248],i[data-v-45ce8248],b[data-v-45ce8248],textarea[data-v-45ce8248],button[data-v-45ce8248],input[data-v-45ce8248],select[data-v-45ce8248],figure[data-v-45ce8248],figcaption[data-v-45ce8248]{padding:0;margin:0;list-style:none;font-style:normal;text-decoration:none;border:none;color:#666;box-sizing:border-box;font-weight:lighter;font-family:Arial,\'Hiragino Sans GB\',Microsoft Yahei,Helvetica Neue,Helvetica,sans-serif !important;-webkit-tap-highlight-color:transparent;-webkit-font-smoothing:antialiased}body[data-v-45ce8248]:focus,div[data-v-45ce8248]:focus,span[data-v-45ce8248]:focus,header[data-v-45ce8248]:focus,footer[data-v-45ce8248]:focus,nav[data-v-45ce8248]:focus,section[data-v-45ce8248]:focus,aside[data-v-45ce8248]:focus,article[data-v-45ce8248]:focus,ul[data-v-45ce8248]:focus,dl[data-v-45ce8248]:focus,dt[data-v-45ce8248]:focus,dd[data-v-45ce8248]:focus,li[data-v-45ce8248]:focus,a[data-v-45ce8248]:focus,p[data-v-45ce8248]:focus,h1[data-v-45ce8248]:focus,h2[data-v-45ce8248]:focus,h3[data-v-45ce8248]:focus,h4[data-v-45ce8248]:focus,h5[data-v-45ce8248]:focus,h6[data-v-45ce8248]:focus,i[data-v-45ce8248]:focus,b[data-v-45ce8248]:focus,textarea[data-v-45ce8248]:focus,button[data-v-45ce8248]:focus,input[data-v-45ce8248]:focus,select[data-v-45ce8248]:focus,figure[data-v-45ce8248]:focus,figcaption[data-v-45ce8248]:focus{outline:none}input[type="button"][data-v-45ce8248],input[type="submit"][data-v-45ce8248],input[type="search"][data-v-45ce8248],input[type="reset"][data-v-45ce8248]{-webkit-appearance:none}textarea[data-v-45ce8248]{-webkit-appearance:none}html[data-v-45ce8248],body[data-v-45ce8248]{height:100%;width:100%;background-color:#ebebeb}.clear[data-v-45ce8248]:after{content:\'\';display:block;clear:both}.clear[data-v-45ce8248]{zoom:1}.back_img[data-v-45ce8248]{background-repeat:no-repeat;background-size:100% 100%}.margin[data-v-45ce8248]{margin:0 auto}.left[data-v-45ce8248]{float:left}.right[data-v-45ce8248]{float:right}.hide[data-v-45ce8248]{display:none}.show[data-v-45ce8248]{display:block}.ellipsis[data-v-45ce8248]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.scroll[data-v-45ce8248]{overflow-y:auto;-webkit-overflow-scrolling:touch}.tgl[data-v-45ce8248]{display:none}.tgl[data-v-45ce8248],.tgl[data-v-45ce8248]:after,.tgl[data-v-45ce8248]:before,.tgl *[data-v-45ce8248],.tgl *[data-v-45ce8248]:after,.tgl *[data-v-45ce8248]:before,.tgl+.tgl-btn[data-v-45ce8248]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.tgl[data-v-45ce8248]::-moz-selection,.tgl[data-v-45ce8248]:after::-moz-selection,.tgl[data-v-45ce8248]:before::-moz-selection,.tgl *[data-v-45ce8248]::-moz-selection,.tgl *[data-v-45ce8248]:after::-moz-selection,.tgl *[data-v-45ce8248]:before::-moz-selection,.tgl+.tgl-btn[data-v-45ce8248]::-moz-selection{background:none}.tgl[data-v-45ce8248]::selection,.tgl[data-v-45ce8248]:after::selection,.tgl[data-v-45ce8248]:before::selection,.tgl *[data-v-45ce8248]::selection,.tgl *[data-v-45ce8248]:after::selection,.tgl *[data-v-45ce8248]:before::selection,.tgl+.tgl-btn[data-v-45ce8248]::selection{background:none}.tgl+.tgl-btn[data-v-45ce8248]{outline:0;display:block;width:1.92rem;height:1.024rem;position:relative;cursor:pointer}.tgl+.tgl-btn[data-v-45ce8248]:after,.tgl+.tgl-btn[data-v-45ce8248]:before{position:relative;display:block;content:"";width:50%;height:100%}.tgl+.tgl-btn[data-v-45ce8248]:after{left:0}.tgl+.tgl-btn[data-v-45ce8248]:before{display:none}.tgl:checked+.tgl-btn[data-v-45ce8248]:after{left:50%}.tgl-light+.tgl-btn[data-v-45ce8248]{background:#999999;border-radius:2em;padding:2px;-webkit-transition:all .4s ease;transition:all .4s ease}.tgl-light+.tgl-btn[data-v-45ce8248]:after{border-radius:50%;background:#fff;-webkit-transition:all .2s ease;transition:all .2s ease}.tgl-light:checked+.tgl-btn[data-v-45ce8248]{background:#1aad16}.router-show-enter-active[data-v-45ce8248],.router-show-leave-active[data-v-45ce8248]{transition:all .4s}.router-show-enter[data-v-45ce8248],.router-show-leave-active[data-v-45ce8248]{transform:translateX(100%)}.coversPart[data-v-45ce8248]{position:absolute;top:50%;transform:translateY(-50%);right:0.5973333333rem;width:.85333rem;height:.85333rem}.coversPart .person_link[data-v-45ce8248]{display:block;width:.85333rem;height:.85333rem}.coversPart .person_link svg[data-v-45ce8248]{width:100%;height:100%}.coversation[data-v-45ce8248]{background-color:#ebebeb;-webkit-overflow-scrolling:touch;padding-top:2.06933rem}.coversation .coversationlist[data-v-45ce8248]{position:relative;padding:0 .32rem;overflow:auto;margin:0 auto}.coversation .coversationlist .underscore[data-v-45ce8248]{padding-top:0.2rem;text-align:center;font-size:.55467rem;color:#999}.coversation .coversationlist ul[data-v-45ce8248]{padding-top:.4rem;padding-bottom:2.2rem;width:15.4rem;overflow-scrolling:touch;-webkit-overflow-scrolling:touch;top:0}.coversation .coversationlist ul li .other[data-v-45ce8248]{width:100%;display:flex;justify-content:flex-start;margin-bottom:0.512rem;align-items:top}.coversation .coversationlist ul li .other img[data-v-45ce8248]{display:block;width:1.74933rem;height:1.74933rem}.coversation .coversationlist ul li .other .whatsay[data-v-45ce8248]{position:relative}.coversation .coversationlist ul li .other .whatsay .whatsay_svg[data-v-45ce8248]{width:.42667rem;height:.64rem;position:absolute;top:.5546667rem;left:.36rem;z-index:2}.coversation .coversationlist ul li .other .whatsay .whatsay_svg svg[data-v-45ce8248]{display:block;width:.42667rem;height:.64rem}.coversation .coversationlist ul li .other .whatsay .whatsay_text[data-v-45ce8248]{margin-left:0.6399997rem;max-width:10.3253333333rem;background:#fff;padding:0.42rem 0.384rem;border:1px solid #d9d9d9;border-radius:8px;font-size:.64rem;color:#333;line-height:0.8533333333rem;word-break:break-all}.coversation .coversationlist ul li .mysay[data-v-45ce8248]{display:flex;flex-direction:row-reverse}.coversation .coversationlist ul li .mysay .whatsay .whatsay_svg[data-v-45ce8248]{right:.36rem;left:auto}.coversation .coversationlist ul li .mysay .whatsay .whatsay_text[data-v-45ce8248]{margin-right:0.6399997rem;margin-left:0;background:#9fe658}footer[data-v-45ce8248]{position:fixed;z-index:10;border-top:1px solid #e0e0e0;background:#f5f5f5;bottom:-11.712rem;width:100%}footer .foot_top[data-v-45ce8248]{padding:0 0.512rem;height:2.0053333333rem;background:#f3f3f3;display:flex;justify-content:flex-start;align-items:center}footer .foot_top div[data-v-45ce8248]:nth-of-type(1),footer .foot_top div[data-v-45ce8248]:nth-of-type(3),footer .foot_top div[data-v-45ce8248]:nth-of-type(4){width:1.36533rem;height:1.36533rem;margin-right:0.3413333333rem}footer .foot_top div:nth-of-type(1) svg[data-v-45ce8248],footer .foot_top div:nth-of-type(3) svg[data-v-45ce8248],footer .foot_top div:nth-of-type(4) svg[data-v-45ce8248]{width:100%;height:100%}footer .foot_top div[data-v-45ce8248]:nth-of-type(2){margin-right:0.3413333333rem;width:9.8rem;height:1.152rem;border-bottom:1px solid #e0e0e0}footer .foot_top div:nth-of-type(2) input[data-v-45ce8248]{display:block;width:9.8rem;padding:0 0.4133333333rem;line-height:1.152rem;height:1.152rem;border:0;background:none;font-size:.64rem;color:#000;border-bottom:1px solid #e0e0e0}footer .foot_top div:nth-of-type(2) .lightborder[data-v-45ce8248]{border-color:#19ad17}footer .foot_top div[data-v-45ce8248]:nth-of-type(4){margin-right:0}footer .foot_top div:nth-of-type(4) .send[data-v-45ce8248]{width:1.8133333333rem;background:#16af17;height:1.3653333333rem;padding:.682666rem 0;border-radius:5px;display:flex;justify-content:center;align-items:center}footer .foot_top div:nth-of-type(4) .send span[data-v-45ce8248]{display:block;font-size:.59733rem;color:#fff}footer .foot_top div:nth-of-type(4) .send[data-v-45ce8248]:active{background:#33c034}footer .foot_bottom[data-v-45ce8248]{height:11.712rem;border-top:1px solid #e0e0e0}footer .foot_bottom .swiper-container[data-v-45ce8248]{width:100%;height:11.712rem;overflow:hidden}footer .foot_bottom .swiper-container .swiper-slide[data-v-45ce8248]{width:100%}footer .foot_bottom .swiper-container .swiper-slide ul[data-v-45ce8248]{padding:1.408rem 1.1946666667rem 0;box-sizing:border-box}footer .foot_bottom .swiper-container .swiper-slide ul li[data-v-45ce8248]{float:left;width:2.5466666667rem;margin-right:1rem;margin-bottom:1.1946666667rem}footer .foot_bottom .swiper-container .swiper-slide ul li .swiper_svg[data-v-45ce8248]{width:2.54667rem;height:2.54667rem;background:#fcfcfc;border:1px solid #d3d3d3;border-radius:10px;display:flex;justify-content:center;align-items:center}footer .foot_bottom .swiper-container .swiper-slide ul li .swiper_svg svg[data-v-45ce8248]{width:1.28rem;height:.93867rem;display:block}footer .foot_bottom .swiper-container .swiper-slide ul li .swiper_text[data-v-45ce8248]{width:100%;margin-top:0.256rem;text-align:center;font-size:.46933rem;color:#7a8187}footer .foot_bottom .swiper-container .swiper-slide ul li[data-v-45ce8248]:nth-of-type(4n+4){margin-right:0}.footshow[data-v-45ce8248]{bottom:0;transition:all .2s}.enlarge[data-v-45ce8248]{position:fixed;width:100%;height:100%;background:#000000;top:0;z-index:100}.enlarge img[data-v-45ce8248]{display:block;width:100%;height:15.0186666667rem;position:absolute;top:50%;left:0;margin-top:-7.5093333333rem}.enlarge_part[data-v-45ce8248]{display:none}body .movein-animate[data-v-45ce8248]{transition:all 1s;animation:fadeIn-data-v-45ce8248 .6s}body .moveout-animate-leave[data-v-45ce8248]{transition:all 1s;animation:zoomOut-data-v-45ce8248 .6s}@-webkit-keyframes fadeIn-data-v-45ce8248{from{opacity:0}100%{opacity:1}}@keyframes fadeIn-data-v-45ce8248{from{opacity:0}100%{opacity:1}}@-webkit-keyframes zoomOut-data-v-45ce8248{from{opacity:1}50%{opacity:0;-webkit-transform:scale3d(0.3, 0.3, 0.3);transform:scale3d(0.3, 0.3, 0.3)}100%{opacity:0}}@keyframes zoomOut-data-v-45ce8248{from{opacity:1}50%{opacity:0;-webkit-transform:scale3d(0.3, 0.3, 0.3);transform:scale3d(0.3, 0.3, 0.3)}100%{opacity:0}}\n',""])},366:function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"b",function(){return i});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("head-top",{attrs:{crossover:t.chatname}},[a("section",{staticClass:"coversPart",attrs:{slot:"person"},slot:"person"},[a("router-link",{staticClass:"person_link",attrs:{to:"/singlechat/chatmessage"}},[a("svg",{staticClass:"icon-search",attrs:{fill:"#fff"}},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#person"}})])])],1)]),t._v(" "),a("section",{ref:"singleHeight",staticClass:"coversation"},[a("section",{staticClass:"coversationlist",on:{click:t.bottomHide}},[a("div",{staticClass:"underscore"},[t._v("———— 我是机器人小辰，现在我们可以聊天了 ————")]),t._v(" "),a("ul",t._l(t.conversine,function(e){return a("li",[a("div",{staticClass:"other",class:{mysay:1!==e.sendobject}},[a("img",{attrs:{src:e.headurl,alt:""},on:{click:function(a){return t.enlargeImg(e.headurl)}}}),t._v(" "),a("div",{staticClass:"whatsay"},[a("div",{staticClass:"whatsay_svg"},[a("svg",[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":1!==e.sendobject?"#trigon-right":"#trigon-left"}})])]),t._v(" "),a("div",{staticClass:"whatsay_text"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.Messageblob)+"\n\t\t\t\t\t\t\t\t")])])])])}),0)])]),t._v(" "),a("footer",{class:{footshow:t.clickmore}},[a("section",{staticClass:"foot_top"},[a("div",[a("svg",[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#voice"}})])]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputmessage,expression:"inputmessage"}],class:{lightborder:t.light},attrs:{type:"text",maxlength:"100"},domProps:{value:t.inputmessage},on:{input:[function(e){e.target.composing||(t.inputmessage=e.target.value)},t.whatInput],click:t.inputBottomHide,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterThing(e)}}})]),t._v(" "),a("div",[a("svg",[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#face"}})])]),t._v(" "),a("div",[t.light?a("div",{staticClass:"send",on:{click:t.clickSend}},[a("span",[t._v("发送")])]):a("svg",{on:{click:t.bottomShow}},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#addthing"}})])])]),t._v(" "),a("section",{staticClass:"foot_bottom"},[a("div",{staticClass:"swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.chatData,function(e,o){return a("div",{staticClass:"swiper-slide"},[a("ul",{staticClass:"clear"},t._l(e,function(e){return a("li",[a("div",{staticClass:"swiper_svg"},[a("svg",{attrs:{fill:"#7a8187"}},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":e.chatSvgid}})])]),t._v(" "),a("div",{staticClass:"swiper_text"},[t._v("\n                       \t\t\t\t\t"+t._s(e.chatSvgname)+"\n                       \t\t\t\t")])])}),0)])}),0),t._v(" "),a("div",{staticClass:"swiper-pagination"})])])]),t._v(" "),t.enlarge?a("section",{staticClass:"enlarge",class:{"movein-animate":t.enlargeShow,"moveout-animate-leave":t.enlargehides},on:{click:t.enlargeHide}},[a("img",{attrs:{src:t.enlargeurl,alt:""}})]):t._e(),t._v(" "),a("transition",{attrs:{name:"router-show"}},[a("router-view")],1)],1)},i=[];o._withStripped=!0}}]);