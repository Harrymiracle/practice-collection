<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <title>ES6箭头函数作用域</title>
</head>

<body>
    <script>
        function Timer() {
            this.s1 = 0;
            this.s2 = 0;
            setInterval(() => { //箭头函数
                console.log(this.s1); //0 1 2 3 ...
                this.s1++
            }, 1000);
            setInterval(function() { //普通函数
                console.log(this.s2); //undefined NaN NaN NaN ...  (this指向的是全局，全局中不存在变量s2)
                this.s2++;
            }, 1000);
        }
        var timer = new Timer();
        setTimeout(() => console.log('s1:', timer.s1), 3100); //3
        setTimeout(() => console.log('s2:', timer.s2), 3100); //0
    </script>
</body>

</html>