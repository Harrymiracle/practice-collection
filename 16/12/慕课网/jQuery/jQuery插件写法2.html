<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jQuery插件 面向对象</title>
    <script src="js/jquery-2.2.3.min.js"></script>
    <style>
    </style>
</head>
<!-- 原文出自http://www.cnblogs.com/Wayou/p/jquery_plugin_tutorial.html
    http://www.duanliang920.com/learn/web/tx/334.html -->
<body>
    <ul>
        <li>
            <a href="http://www.webo.com/liuwayong">我的微博</a>
        </li>
        <li>
            <a href="http://http://www.cnblogs.com/Wayou/">我的博客</a>
        </li>
        <li>
            <a href="http://wayouliu.duapp.com/">我的小站</a>
        </li>
    </ul>
    <p>这是p标签不是a标签,我不会受影响</p>
    
    <script type="text/javascript">
    //插件二、
    //这个undefined,稍微有意思一点,为了得到没有被修改的undefined,我们并没有传递这个参数,但却在接收时接收了它,因为实际并没有传,所以‘undefined’那个位置接收到的就是真实的'undefined'了。有点hack的味道,值得细细体会的技术。
        ;(function($, window, document,undefined) {
            //定义Beautifier的构造函数
            var Beautifier = function(ele, opt) {
                this.$element = ele,
                this.defaults = {
                    'color': 'red',
                    'fontSize': '12px',
                    'textDecoration': 'none'
                },
            //将一个空对象做为第一个参数，后面的参数，全部合在第一个对象里面。这样做可以保护默认的设置不被后面的设置覆盖.
                this.options = $.extend({}, this.defaults, opt)
            }
            //定义Beautifier的方法
            Beautifier.prototype = {
                beautify: function() {
                    return this.$element.css({
                        'color': this.options.color,
                        'fontSize': this.options.fontSize,
                        'textDecoration': this.options.textDecoration
                    });
                }
            }
            //在插件中使用Beautifier对象
            $.fn.myPlugin = function(options) {
                //创建Beautifier的实体
                var beautifier = new Beautifier(this, options);
                //调用其方法
                return beautifier.beautify();
            }
        })(jQuery, window, document);

    //使用插件
        $(function() {
            $('a').myPlugin({
                'color': '#2C9929',
                'fontSize': '20px',
                'textDecoration': 'line-through'
            });
        });
    </script>
</body>

</html>