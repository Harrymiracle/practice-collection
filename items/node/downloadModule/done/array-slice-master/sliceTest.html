<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Document</title>
</head>
<body>
    <script>
        function slice(arr, start, end) {
            var len = arr.length;
            var range = [];

            start = idx(len, start);
            end = idx(len, end, len);

            while (start < end) {
                range.push(arr[start++]);   //++ 妙用，从前往后取arr的值追加到range数组中
            }
            return range;
        };

        function idx(len, pos, end) {
            if (pos == null) {    //可判断未传参和null
                pos = end || 0;     //传了end参数就是end参数，没传就是0（从第一个开始）
            } else if (pos < 0) { //传入的start和end参数有小于0时，判断是否从后至前，以致从前超出数组边界
                pos = Math.max(len + pos, 0);
            } else {              //防止从后超出数组边界
                pos = Math.min(pos, len);
            }

            return pos;
        }


        // var arr = [];
        // var result = slice(arr);
        // console.log(result);    //[]


        // var arr1 = [1,2,3,4];
        // var result1 = slice(arr1,undefined,2);
        // console.log(result1);   //[1, 2]


        // var arr2 = [1,2,3,4];
        // var result2 = slice(arr2);
        // console.log(result2);   // [1, 2, 3, 4]


        var arr3 = [1,2,3,4];
        var result3 = slice(arr3,1);
        console.log(result3);   // [2, 3, 4]
    </script>
</body>
</html>
