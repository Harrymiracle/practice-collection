<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>使用v-on绑定自定义事件</title>
	<script src="js/vue.min.js"></script>
</head>
<body>
	<div id="app1">
		<p>{{total}}</p>
		<button-counter @increment="incrementTotal"></button-counter>
		<button-counter @increment="incrementTotal"></button-counter>
	</div>


	<script>
		Vue.component("button-counter", {
			template: "<button @click='increment'>{{counter}}</button>",
			data: function(){
				return {counter: 0};
			},
			methods: {
				increment: function(){
					this.counter += 1;
				//vm.$emit(event, [arg1, arg2, ……])，用来触发当前实例上的事件，附加参数都会传给监听器回调。
					this.$emit("increment");
				}
			}
		})

		var vm1 = new Vue({
			el: "#app1",
			data: {
				total: 0
			},
			methods: {
				incrementTotal: function(){
					this.total += 1;
				}
			}
		})
	</script>
</body>
</html>