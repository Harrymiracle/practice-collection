<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>星空</title>
</head>
<body>
  <canvas id="canvas" style="border:1px solid black;margin:10px auto;">
  	你的浏览器不支持canvas,请更换浏览器再试。
  </canvas>

  <script>
  	window.onload = function(){
  	  var canvas = document.getElementById("canvas");
  	  canvas.width = 800;
  	  canvas.height = 800;
  	  var context = canvas.getContext("2d");

  	  context.fillStyle = "black";
      context.fillRect(0,0,canvas.width,canvas.height);
  	  
      for(var i = 0; i < 200; i++){
        var R = Math.random()*10 + 10;  //随机生成drawStar函数的参数
        var x = Math.random()*canvas.width;
        var y = Math.random()*canvas.height;
        var a = Math.random()*360;
        drawStar(context,R,R/2,x,y,a);
      }
  	}

  //5个参数分别为上下文的绘图环境，大圆半径，小圆半径，x轴上的偏移，y轴上的偏移，旋转的角度
  	function drawStar(cxt,R,r,x,y,rot){
  	  rot = rot || 0; //旋转的角度
  	  cxt.beginPath();	//开始一个绘图路径
  	  for(var i = 0; i < 5; i++){	//循环分别画出大小圆的五个顶点
    //Math.cos()的参数为用弧度表示的角度，具体角度可以画一个五角星，以中心为原点推理出各个顶点的角度
  	  	cxt.lineTo(Math.cos((18 + i*72 - rot)*Math.PI/180)*R+x, -Math.sin((18 + i*72 - rot)*Math.PI/180)*R+y);	//绘图路径
  	  	cxt.lineTo(Math.cos((54 + i*72 - rot)*Math.PI/180)*r+x, -Math.sin((54 + i*72 - rot)*Math.PI/180)*r+y);
  	  }
  	  cxt.closePath();	//结束一个绘图路径

      cxt.fillStyle = "#fb3";//设置各个绘制状态
      cxt.strokeStyle = "#fd5";
      cxt.lineWidth = 3;
      cxt.lineJoin = "round";//线条相交点
      cxt.fill();
  	  cxt.stroke(); //绘制
  	}
  	

  </script>
</body>
</html>