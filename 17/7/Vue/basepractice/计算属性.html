<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>计算属性</title>
	<script src="../../js/vue.js"></script>
</head>
<body>
	<div id="example">
		<p>Original message: "{{message}}"</p>
		<!-- 计算属性 -->
		<p>Computed reversed message: "{{ reversedMessage }}"</p>
		<!-- method方法 -->
		<!-- <p>Computed reversed message: "{{ reversedMessage() }}"</p> -->
	</div>

	<!-- 计算属性和$watch的比较 -->
	<div id="demo1">{{fullName}}</div>
	<div id="demo2">{{fullName}}</div>

	<div id="demo3">{{fullName}}</div>


	<script>
		var example = new Vue({
			el: '#example',
			data: {
				message: 'The computed prop!'
			},
			computed: {
				reversedMessage: function(){
					return this.message.split('').reverse().join('');
				}
			}
			// methods: {
			// 	reversedMessage: function(){
			// 		return this.message.split('').reverse().join('');
			// 	}
			// }
		});

		var demo1 = new Vue({
			el: '#demo1',
			data: {
				firstName: 'Jim',
				lastName: 'Green'
			},
			computed: {
				fullName: function(){
					return this.firstName + ' ' + this.lastName;	//要加上this,指向当前的实例
				}
			}
		});

		var demo2 = new Vue({
			el: '#demo2',
			data: {
				firstName: 'Foo',
				lastName: 'Bar',
				fullName: 'Foo Bar'
			},
			watch: {
				firstName: function(val){
					this.fullName =  val + ' ' + this.lastName;		//要加上this,指向当前的实例
				},
				lastName: function(val){
					this.fullName =  this.firstName + ' ' + val;	//要加上this,指向当前的实例
				}
			}
		});

		//getter 和 setter
		var demo3 = new Vue({
			el: '#demo3',
			data: {
				firstName: 'Robert',
				middleName: '****',
				lastName: 'Green'
			},
			computed: {
				fullName: {
					get: function(){	//getter
						return this.firstName + ' ' + this.middleName + ' ' + this.lastName;
					},
					set: function(newValue){	//setter
						var names = newValue.split(' ');
						this.firstName = names[0];
						this.lastName = names[names.length-1];
					}
				} 
			}
		});
	</script>
</body>
</html>