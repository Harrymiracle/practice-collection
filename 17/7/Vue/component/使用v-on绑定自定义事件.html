<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>使用v-on绑定自定义事件</title>
	<script src="../../js/vue.js"></script>
</head>
<body>
	<div id="app-1">
		<p>{{total}}</p>
		<!-- 此处的increment是子组件的一个方法，关联上父组件的一个方法。 -->
		<button-counter v-on:increment="incrementTotal"></button-counter>
		<button-counter v-on:increment="incrementTotal"></button-counter>
	</div>

	<script>
		Vue.component('button-counter', {
			template:'<button v-on:click="increment">{{count}}</button>',	//在构建模板是在子组件的模板上绑定click事件，触发子组件的increment方法
			data: function(){
				return {count:0}
			},
			methods: {
				increment: function(){
					this.count += 1;
					this.$emit('increment');		//使用 $on(eventName) 监听事件。使用 $emit(eventName) 触发事件。此处触发事件。
				}
			}
		});

		new Vue({
			el: '#app-1',
			data: {
				total: 0
			},
			methods: {
				incrementTotal: function(){
					return this.total += 1;
				}
			}
		})
	</script>

</body>
</html>